<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /*
      function getData() {
        const xhr = new XMLHttpRequest();
        xhr.open("GET", "https://jsonplaceholder.typicode.com/posts/1");
        xhr.setRequestHeader("content-type", "application/json");
        xhr.send(); // 전송

        xhr.onload = () => {
          if (xhr.status === 200) {
            const res = JSON.parse(xhr.response);
            console.log(res);
            return res;
          } else {
            console.error(xhr.status, xhr.statusText);
            return;
          }
        };
      }

     
      var res = getData();
      console.log(res);
      console.log("다음 코드를 실행합니다."); // 먼저 실행됨
 */

 /*
      function getDataPromise() {
        return new Promise((resolve, reject) => {
          const xhr = new XMLHttpRequest();
          xhr.open("GET", "https://jsonplaceholder.typicode.com/posts/1");
          xhr.setRequestHeader("content-type", "application/json");
          xhr.send(); // 전송

          xhr.onload = () => {
            if (xhr.status === 200) {
              const res = JSON.parse(xhr.response);
              resolve(res);
            } else {
              console.error(xhr.status, xhr.statusText);
              reject(new Error(xhr.statusText));
            }
          };
        });
      }

      getDataPromise().then((res) => {
        console.log(res);
        console.log("다음 코드를 실행합니다.");
      });

      */

      /*
      function getDataFetch(params) {
        fetch("https://jsonplaceholder.typicode.com/posts/1")
          .then((response) => response.json())
          .then((json) => console.log(json));
      }

      var res = getDataFetch();  
      console.log("다음 코드를 실행합니다.");


*/

      // getDataFetchPromise 숙제
      function getDataFetchPromise() {
        return new Promise((resolve, reject) => {
            // fetch("https://jsonplaceholder.typicode.com/posts/1")
            // .then((response) => response.json())
            // .then((json) => console.log(json));

            resolve(fetch("https://jsonplaceholder.typicode.com/posts/1")
            .then((response) => response.json()));
        });
      }

      getDataFetchPromise().then((res) => {
        console.log(res);
        console.log("다음 코드를 실행합니다.");
      });
    </script>
  </body>
</html>
